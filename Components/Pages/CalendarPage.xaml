<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="DevJournal.Pages.CalendarPage"
             Title="Calendar View"
             BackgroundColor="#ECF0F1">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="60"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Navigation Header -->
        <Grid Grid.Row="0"
                BackgroundColor="#34495E"
                Padding="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0"
                    Text="◀ Previous"
                    Clicked="OnPreviousMonthClicked"
                    BackgroundColor="#2980B9"
                    TextColor="White"
                    WidthRequest="120"/>

            <Label Grid.Column="1"
                   x:Name="monthYearLabel"
                   FontSize="20"
                   FontAttributes="Bold"
                   TextColor="White"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"/>

            <Button Grid.Column="2"
                    Text="Next ▶"
                    Clicked="OnNextMonthClicked"
                    BackgroundColor="#2980B9"
                    TextColor="White"
                    WidthRequest="120"/>
        </Grid>

        <!-- Calendar Content -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="20"
                    Spacing="20">

                <!-- Day Headers -->
                <Grid x:Name="dayHeadersGrid"
                        HeightRequest="40">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                </Grid>

                <!-- Calendar Grid -->
                <Grid x:Name="calendarGrid"
                        RowSpacing="5"
                        ColumnSpacing="5">
                    <!-- Dynamically populated -->
                </Grid>

                <!-- Entry Preview -->
                <Frame x:Name="previewFrame"
                       IsVisible="False"
                       BackgroundColor="White"
                       BorderColor="#BDC3C7"
                       CornerRadius="10"
                       Padding="20">

                    <VerticalStackLayout Spacing="15">
                        <Label Text="Entry Preview"
                               FontSize="20"
                               FontAttributes="Bold"
                               TextColor="#2C3E50"/>

                        <Label x:Name="previewTitleLabel"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="#2C3E50"/>

                        <Label x:Name="previewDateLabel"
                               FontSize="14"
                               TextColor="Gray"/>

                        <Label x:Name="previewMoodLabel"
                               FontSize="16"
                               TextColor="#3498DB"/>

                        <Label x:Name="previewContentLabel"
                               FontSize="14"
                               TextColor="#7F8C8D"
                               LineBreakMode="WordWrap"/>

                        <HorizontalStackLayout Spacing="10"
                                Margin="0,10,0,0">
                            <Button Text="Edit Entry"
                                    Clicked="OnEditEntryClicked"
                                    BackgroundColor="#3498DB"
                                    TextColor="White"
                                    WidthRequest="150"/>

                            <Button Text="Delete"
                                    Clicked="OnDeleteEntryClicked"
                                    BackgroundColor="#E74C3C"
                                    TextColor="White"
                                    WidthRequest="150"/>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Frame>

                <Button Text="New Entry"
                        Clicked="OnNewEntryClicked"
                        BackgroundColor="#2ECC71"
                        TextColor="White"
                        FontSize="18"
                        FontAttributes="Bold"
                        HeightRequest="50"/>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>